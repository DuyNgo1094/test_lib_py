name: Release

permissions:
  contents: write

on:
  workflow_dispatch:
    inputs:
        name:
          # Friendly description to be shown in the UI instead of 'name'
          description: version
          # Default value if no value is explicitly provided
          default: '1.1.0'
          # Input has to be provided for the workflow to run
          required: true
          # The data type of the input
          type: string
jobs:
  create-release:
    runs-on: windows-latest
    steps:
      - name: Release
        uses: softprops/action-gh-release@v2
        if: startsWith(github.ref, 'refs/tags/')
        with:
          body_path: ${{ github.workspace }}-CHANGELOG.txt
          # note you'll typically need to create a personal access token
          # with permissions to create releases in the other repo
          token: ${{ secrets.GITHUB_TOKEN }}.
          # token: ${{ secrets.GITHUB_TOKEN }}
